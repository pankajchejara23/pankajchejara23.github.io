<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Pankaj Chejara">
<meta name="dcterms.date" content="2024-01-07">

<title>Pankaj Chejara - A primer on discrete data distribution fundamentals</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Pankaj Chejara</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../talks.html"> 
<span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../publications.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../awards.html"> 
<span class="menu-text">Awards</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Pankaj Chejara</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/pankajchejara1"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/pankaj-chejara-5ab77855/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/pankajchejara23"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">A primer on discrete data distribution fundamentals</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">python</div>
                <div class="quarto-category">statistics</div>
                <div class="quarto-category">maths</div>
                <div class="quarto-category">distribution</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Pankaj Chejara </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 7, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-data-distribution" id="toc-what-is-data-distribution" class="nav-link active" data-scroll-target="#what-is-data-distribution">What is data distribution?</a></li>
  <li><a href="#bernoulli-distribution" id="toc-bernoulli-distribution" class="nav-link" data-scroll-target="#bernoulli-distribution">Bernoulli distribution</a></li>
  <li><a href="#binomial-distribution" id="toc-binomial-distribution" class="nav-link" data-scroll-target="#binomial-distribution">Binomial distribution</a></li>
  <li><a href="#geometric-distribution" id="toc-geometric-distribution" class="nav-link" data-scroll-target="#geometric-distribution">Geometric distribution</a></li>
  <li><a href="#negative-binomial-distribution" id="toc-negative-binomial-distribution" class="nav-link" data-scroll-target="#negative-binomial-distribution">Negative Binomial distribution</a></li>
  <li><a href="#hypergeometric-distribution" id="toc-hypergeometric-distribution" class="nav-link" data-scroll-target="#hypergeometric-distribution">Hypergeometric distribution</a></li>
  <li><a href="#poisson-distribution" id="toc-poisson-distribution" class="nav-link" data-scroll-target="#poisson-distribution">Poisson distribution</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>This post offers an introduction to discrete data distributions which are essential to know for every data scientist. The post starts by explaining what does it mean by <strong>data distribution</strong> and then dives deep into the following six data distributions with real world examples:</p>
<ul>
<li>Bernoulli</li>
<li>Binomial</li>
<li>Geometric</li>
<li>Negative binomial</li>
<li>Hypergeometric</li>
<li>Poisson</li>
</ul>
<section id="what-is-data-distribution" class="level2">
<h2 class="anchored" data-anchor-id="what-is-data-distribution">What is data distribution?</h2>
<p>Let’s now understand <strong>what is the meaning of data distribution</strong>. In data science projects, we work on different types of data and those data come from somewhere. For example, a dataset containing salary information of employees comes from a population of employees working at a particular company. In the dataset, there would be some values occuring quite frequently while some rarely. <strong>Data distribution enables an understanding of such likelihood of data values</strong>.</p>
<p>Let’s take an example of such dataset.</p>
<pre><code>    # salary in thousands
    salary = [1500,1200,1500,1300,1500,2100,2800,2500,1500,2100]
</code></pre>
<p>In the above example, we can see that the most frequently occuring salary is <code>1500</code>. In other terms, there is a higher likelihood that a person chosen from the company most likely to have a salary of 1500. This is what we aim to study by data distribution, i.e., <strong>how the values are distributed or what are their likelihood?</strong></p>
<p>Figure <a href="#fig-freq" class="quarto-xref">Figure&nbsp;1</a> below shows the frequency count (and normalized frequency count) for each unique salary in the dataset.</p>
<div id="ad102a36" class="cell" data-execution_count="45">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># counting frequencies</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>count_freq <span class="op">=</span> <span class="bu">dict</span>(Counter(salary))</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># salary data</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>salary <span class="op">=</span> [<span class="dv">1500</span>,<span class="dv">1200</span>,<span class="dv">1500</span>,<span class="dv">1300</span>,<span class="dv">1500</span>,<span class="dv">2100</span>,<span class="dv">2800</span>,<span class="dv">2500</span>,<span class="dv">1500</span>,<span class="dv">2100</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting distribution</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>plt.bar(count_freq.keys(),count_freq.values(),width<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Frequency count'</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting distribution</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>plt.bar(count_freq.keys(),[item<span class="op">/</span><span class="bu">len</span>(salary) <span class="cf">for</span> item <span class="kw">in</span> count_freq.values()],width<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Probability'</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-freq" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-freq-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-freq" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-freq-1" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-freq-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="A primer on data distribution fundamentals _files/figure-html/fig-freq-output-1.png" class="img-fluid figure-img" data-ref-parent="fig-freq">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-freq-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) frequency
</figcaption>
</figure>
</div>
</div>
<div class="cell-output cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-freq" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-freq-2" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-freq-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="A primer on data distribution fundamentals _files/figure-html/fig-freq-output-2.png" class="img-fluid figure-img" data-ref-parent="fig-freq">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-freq-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) percentage/probability
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-freq-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Frequency/precentage distribution
</figcaption>
</figure>
</div>
<p>If we are asked what percentage of times a salary of 1500 occurred in the dataset then we can answer <strong>40%</strong> (Why: 4 out of 10 salaries were 1500)</p>
<p>With the above figures, we can answer questions like</p>
<ol type="1">
<li><strong>What are the chances of a person having salary less than 1500 euros?</strong></li>
<li><strong>What are the chances of a personal having a salary of 2800 euros?</strong></li>
</ol>
<p>These are just a few examples. Data distribution helps to answer such questions.</p>
<p>In a simple term, <strong>data distribution is a function which maps the value occuring in the dataset to its corresponding likelihood of appearing in the dataset.</strong></p>
<p>For example, <span class="math display">\[P(1500) = .4\]</span></p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<pre><code>   Once we have distribution function we do not need the dataset to answer questions like those mentioned above.     </code></pre>
</div>
</div>
<p>We have several well defined data distribution functions which can be utilized to model the data. These distributions are divided into two categories based on values of data, i.e., Discrete and Continuous.</p>
<p>In this blog post, we will cover six discrete data distributions, i.e., Bernoulli, Binomial, Geometric, Negative Binomial, Hypergeometric, and Piosson.</p>
<p>Before diving into different discrete distributions, we need to first understand a bit about <strong>Random Variable</strong>. In data modeling problems, we are often interested in a particular phenomenon/event, e.g., salary in our previous example. We model such events using random variables denoted as <span class="math inline">\(X\)</span>.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>A random variable is not like a typical variable instead it is a mapping that maps the phenomenon/event of our interest into a real number.</p>
</div>
</div>
<p>Random variables can take any values from the sample space (i.e., all different salaries of employees, e.g., <span class="math inline">\(X=1500\)</span>)</p>
<p>In the following sections, you would often see the notation <span class="math inline">\(P(X=x)\)</span> that represents the probability of random variable <span class="math inline">\(X\)</span> to have a value <span class="math inline">\(x\)</span>.</p>
</section>
<section id="bernoulli-distribution" class="level1">
<h1>Bernoulli distribution</h1>
<p>This distribution is used to model a situation where there are two possible outcomes and you are interested in knowing the chance of happening those outcomes.</p>
<p>Let’s take an example of a scenario where this distribution can be used. Consider a person applying for a job which can lead to an offer or a rejection. The event of interest (e.g., getting a job offer) is termed as success and the other one as failure. These terms are simply used to make it easy for statistical modeling and do not have the usual connotations of success and failure. The possible outcomes can be represented numerically as 1 (success) and 0 (failure), respectively.</p>
<p>This distribution has a single parameter, i.e., p (probability of success). Given the total sum of probabilities of all events (success and failure in our case) must be 1. It makes the probability of failure (q) equal to (1-p). The formula is given below as well.</p>
<p><span class="math display">\[\begin{align*}
P(x) =
\left\{
    \begin {aligned}
         &amp; p  &amp; x = 1 \\
         &amp; 1-p  &amp; x = 0                  
    \end{aligned}
\right.
\end{align*}\]</span> Here, <span class="math inline">\(p\)</span> is the probability of success.</p>
<p>Let’s take our previous example: The person has 25% chances of getting a job given his education level and experiences. In that case, the value of p is .4 that makes q = 1-p = .6. Figure <a href="#fig-ber" class="quarto-xref">Figure&nbsp;2</a> shows the bar chart for p and q.</p>
<div id="cell-fig-ber" class="cell" data-execution_count="58">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>plt.bar([<span class="dv">0</span>,<span class="dv">1</span>],[<span class="fl">.6</span>,<span class="fl">.4</span>],color<span class="op">=</span><span class="st">'green'</span>,alpha<span class="op">=</span><span class="fl">.5</span>,width<span class="op">=</span><span class="fl">.5</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>plt.xticks([<span class="dv">0</span>,<span class="dv">1</span>],[<span class="dv">0</span>,<span class="dv">1</span>])</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>plt.ylim([<span class="dv">0</span>,<span class="dv">1</span>])</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Bernaulli distribution'</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Probability'</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Outcomes'</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-ber" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ber-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="A primer on data distribution fundamentals _files/figure-html/fig-ber-output-1.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ber-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Bernoulli distribution
</figcaption>
</figure>
</div>
</div>
</div>
<p>Let’s move to the two important properties of this distribution, i.e., expectation and variance. The expectation tells us which value we are going to observe on average in the Bernoulli distribution. The variance tells us how much deviation in general we notice in the distribution from the expected value.</p>
<p><span class="math display">\[ E[X] = p \]</span> <span class="math display">\[ Var[X] = pq \]</span></p>
<p>Let’s extend our example of job application.</p>
<section id="now-we-are-interested-in-knowing-the-chances-of-getting-a-particular-number-of-job-offers-after-applying-for-n-job-positions." class="level4">
<h4 class="anchored" data-anchor-id="now-we-are-interested-in-knowing-the-chances-of-getting-a-particular-number-of-job-offers-after-applying-for-n-job-positions.">Now, <strong>we are interested in knowing the chances of getting a particular number of job offers</strong> after applying for N job positions.</h4>
<p>Here comes our next data distributions, <strong>Binomial distribution</strong>.</p>
</section>
</section>
<section id="binomial-distribution" class="level1">
<h1>Binomial distribution</h1>
<p>The binomial distribution is used to model a situation where N Bernoulli trials are performed. In other words, we have an event with two possible outcomes (0 and 1) and the event is repeated N times.</p>
<p>The binomial distribution is characterized by two parameters, <span class="math inline">\(N\)</span> and <span class="math inline">\(\theta\)</span> (or <span class="math inline">\(p\)</span>). N is the number of trials, and <span class="math inline">\(\theta\)</span> is the probability of ‘success’ or <span class="math inline">\(x=1\)</span>.</p>
<p>Consider our previous example of job applications. A person with a 30% chance of getting a job sent 10 job applications. We are interested in knowing what are <strong>the odds that that person would get 5 job offers</strong>.</p>
<p>Here, <span class="math inline">\(N = 10\)</span> and <span class="math inline">\(p = .3\)</span></p>
<p>Now, we need to compute the probability of that <strong>person getting 5 job offers out of 10 job applications</strong>.</p>
<p>Let’s move to the formula for computing this probability. The formula in simple terms is given below. Here, <span class="math inline">\(X\)</span> is number of job offers the person gets.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math inline">\(P(X=x)\)</span> = Number of ways event can occur * P(one occurrence)</p>
</div>
</div>
<p>In our example, the outcome resulting in getting the job corresponds to success while getting a rejection correspond to failure. Now, there could be a number of ways in which the results of 10 job applications could be. The following one is just one of them of our interest (5 successes).</p>
<pre><code>         S S S S S F F F F F</code></pre>
<p>We know that <span class="math inline">\(p = .3\)</span> (previously mentioned that the person has 30% chance) that makes <span class="math inline">\(q = 1 - p = .7\)</span>. Now, in the above sequence of outcomes, there are 5 successes and 5 failures. The probability would be</p>
<p><span class="math display">\[ P = p*p*p*p*p*q*q*q*q*q \]</span> <span class="math display">\[ P = p^5 * q^5 \]</span> <span class="math display">\[ P = p^r * q^{n-r}\]</span></p>
<p>Here, r is the number of success</p>
<p>Now, we just need to find out <strong>how many ways are there in which there are 5 successes</strong> (e.g., another way could be S S S S F F F S F F). Here, we will use the following known as <strong>“n choose r”</strong>.</p>
<p><span class="math display">\[ \left(
    \begin {aligned}
         n \\
         r                 
    \end{aligned}
\right)  = \frac{n!}{r!\,(n-r)!}
\]</span></p>
<p>Here, <span class="math inline">\(!n\)</span> is factorial of <span class="math inline">\(n\)</span> defined as <span class="math display">\[ !n = n * (n-1) * (n-2) * ... 2 * 1 \]</span></p>
<p>Now, we have knowledge on how may outcomes are there having r successes, and what is the probability of each of those outcomes. The following is the formula for Binomial distribution</p>
<p><span class="math display">\[  \left(
    \begin {aligned}
         n \\
         r                 
    \end{aligned}
\right) p^r * q^{n-r}\]</span></p>
<p>Let’s put the values in the formula for computing the probability of getting 5 job offers out of 10 with <span class="math inline">\(p=.3\)</span>.</p>
<p><span class="math display">\[  \left(
    \begin {aligned}
         10 \\
         5                 
    \end{aligned}
\right) .3^5 * .7^5 \]</span> <span class="math display">\[  252 * .0024 * .16 \]</span> <span class="math display">\[ .09 \]</span></p>
<p>There is <strong>9% chances that the candidate will get 5 job offers out of 10 job application with <span class="math inline">\(p=.3\)</span></strong>.</p>
<p>The expectation and variance of the Binomial distribution is given by</p>
<p><span class="math display">\[ E[X] = np \]</span> <span class="math display">\[ Var[X] = npq \]</span></p>
<p>Let’s now plot the binomial distribution. The figure <a href="#fig-bino" class="quarto-xref">Figure&nbsp;3</a> shows two different binomial distributions, one with p=.2 and other with p=.5. A binomial distribution with <span class="math inline">\(p=.5\)</span> is symmetrical.</p>
<div id="76726267" class="cell" data-execution_count="46">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> binomial_p(n,p,r):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    number_of_ways <span class="op">=</span> math.factorial(n)<span class="op">/</span>(math.factorial(r)<span class="op">*</span>math.factorial(n<span class="op">-</span>r))</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    success_p <span class="op">=</span> <span class="bu">pow</span>(p,r)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    failure_p <span class="op">=</span> <span class="bu">pow</span>((<span class="dv">1</span><span class="op">-</span>p),(n<span class="op">-</span>r))</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> number_of_ways <span class="op">*</span> success_p <span class="op">*</span> failure_p</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_binomial(n,p):</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    x_data <span class="op">=</span> []</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    y_data <span class="op">=</span> []</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>        x_data.append(i)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>        y_data.append(binomial_p(n,p,i))</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    plt.bar(x_data,y_data,width<span class="op">=</span><span class="fl">.5</span>)</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">#plt.title(f'n={n} p={p}')</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>plot_binomial(<span class="dv">20</span>,<span class="fl">.2</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>plot_binomial(<span class="dv">20</span>,<span class="fl">.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-bino" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bino-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bino" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bino-1" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-bino-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="A primer on data distribution fundamentals _files/figure-html/fig-bino-output-1.png" class="img-fluid figure-img" data-ref-parent="fig-bino">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bino-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) n=20 p=.2
</figcaption>
</figure>
</div>
</div>
<div class="cell-output cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bino" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bino-2" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-bino-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="A primer on data distribution fundamentals _files/figure-html/fig-bino-output-2.png" class="img-fluid figure-img" data-ref-parent="fig-bino">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bino-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) n=20 p=.5
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bino-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Binomial distribution with different n,p
</figcaption>
</figure>
</div>
<p>Now, let’s say we are interested in knowing <strong>the number of rejection the candidate will face before getting the first job</strong>. <strong>What is the chance of the candidate to have a particular number of rejection before getting a job?</strong>.</p>
<p>Here comes our next distribution into the picture, the Geometric distribution.</p>
</section>
<section id="geometric-distribution" class="level1">
<h1>Geometric distribution</h1>
<p>The geometric distribution is used in situations where <strong>we like to model the number of failures (k) before the first success in a sequence of trials where each trial has two possible outcomes and the probability of those outcomes remains the same throughout the trials</strong>.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Geometric distribution can also be used to model number of trials to get first success.</p>
</div>
</div>
<p>Let’s take our job example again.</p>
<p>Now, we would like to model <strong>how many rejections the candidate faces before getting a job offer</strong>. We will compute the probability for different cases, e.g., getting a job offer without any rejection, with 1 rejection, 2 rejections, and so on. In this case, our random variable X is number of rejections before first success.</p>
<p>In our example, the probability of getting a job is <span class="math inline">\(p = .3\)</span>, and getting a rejection is <span class="math inline">\(q=.7\)</span>.</p>
<p>Let’s now see the probabilities. There are cases in which the candidate gets the first job offer in the first application (S) or in the first attempt failure with success in the second attempt, and so on. The probabilities will be <span class="math display">\[ P(S) = P(failures=0) = p \]</span> <span class="math display">\[ P(FS) = P(failures=1) = q * p \]</span> <span class="math display">\[ P(FFS) = P(failures=2)  = q^2 * p \]</span> <span class="math display">\[ P(FFFS) = P(failures=3) = q^3 * p \]</span></p>
<p>We can generalize it in the following way</p>
<p><span class="math display">\[ P(failures=k) = q^{k} * p \]</span></p>
<p>The above equation gives us the probability of getting k failures before first success.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>The probability sequence above is a geometric sequence where subsequent items have the same ratio. For example, <span class="math inline">\(a,a^2,a^3,a^4,...\)</span>. That is the reason why this distribution is called geometric distribution.</p>
</div>
</div>
<p>The expectation and variance of the Geometric distribution is given by (<strong>X is a random variable representing the number of failures before getting first success</strong>)</p>
<p><span class="math display">\[ E[X] = \frac{1-p}{p} \]</span> <span class="math display">\[ Var[X] = \frac{1-p}{p^2} \]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>The Geometric distribution is also used to model number of trials in getting first success (let’s present it by a random variable Y). The total number of trials in getting first success is one more than the number of failures getting the first success. Therefore, the expecation value for this case would be</p>
<p><span class="math display">\[E[Y] = E[X] + 1 \]</span> <span class="math display">\[E[Y] = \frac{1}{p} \]</span></p>
</div>
</div>
<p>Let’s plot the geometric distribution. The figure <a href="#fig-geo" class="quarto-xref">Figure&nbsp;4</a> shows two cases of geometric distributions. In the first case, the value of p is .2 which means the candidate has 20% chance of getting an offer for a job application. In the second case, the candidate has 80% chance for the same (that means p = .8).</p>
<p>The plots show the probability of getting different numbers of rejections before getting first offer.</p>
<div id="8843a087" class="cell" data-execution_count="86">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> geo_p(k,p):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    success_p <span class="op">=</span> p</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    failure_p <span class="op">=</span> <span class="bu">pow</span>((<span class="dv">1</span><span class="op">-</span>p),(k))</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> success_p <span class="op">*</span> failure_p</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_geo(n,p):</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    x_data <span class="op">=</span> []</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    y_data <span class="op">=</span> []</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>,n<span class="op">+</span><span class="dv">1</span>):</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>        x_data.append(i)</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>        y_data.append(geo_p(i,p))</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    plt.bar(x_data,y_data,width<span class="op">=</span><span class="fl">.5</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">#plt.title(f'n={n} p={p}')</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>plot_geo(<span class="dv">10</span>,<span class="fl">.2</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>plot_geo(<span class="dv">10</span>,<span class="fl">.8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-geo" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-geo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-geo" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-geo-1" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-geo-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="A primer on data distribution fundamentals _files/figure-html/fig-geo-output-1.png" class="img-fluid figure-img" data-ref-parent="fig-geo">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-geo-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) p=.2
</figcaption>
</figure>
</div>
</div>
<div class="cell-output cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-geo" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-geo-2" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-geo-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="A primer on data distribution fundamentals _files/figure-html/fig-geo-output-2.png" class="img-fluid figure-img" data-ref-parent="fig-geo">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-geo-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) p=.8
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-geo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Geometric distribution with different k
</figcaption>
</figure>
</div>
<p><strong>What about the probability of getting k rejections before getting rth job offer.</strong> We can answer this question with our next distribution.</p>
</section>
<section id="negative-binomial-distribution" class="level1">
<h1>Negative Binomial distribution</h1>
<p>The negative binomial distribution used to model number of failures before getting r successes. Let’s take our previous example here. A person has a chance of 30% getting a job offer and his chance stays constant. Now, we are interested in knowing the probability of <strong>how many job rejections he would face before getting 3th job offer</strong>.</p>
<p>There can be multiple ways in which the candidate can get three job offers (some of them are listed below) S: job offer, R: rejection</p>
<pre><code>No rejection  (k=0)   = S S (S)
One rejection (k=1)   = R S S (S) or S R S (S) or S S R (S)
Two rejection (k=2)   = R R S S (S) or R S S R S (S) or S S R R (S) ....</code></pre>
<p>If we look at above sequences then we can see that the final occurrence is the 3rd success (job offer in our case). Before that there would be r-1 successes and k failures (k could be 0 1 2 3 ..). The formula for negative binomial then is</p>
<pre><code>P(k) = probability of getting r-1 successes and k failure * probability of one success 
P(k) = probability of getting r-1 successes and k failure * p                      (1)</code></pre>
<p>To compute the first part, we would use the formula from binomial distribution which gives us the probability of r success in n trials. In our case the total trials would be (r-1+k). That means the probability of getting r-1 successes in r-1+k trials would be</p>
<p><span class="math display">\[  \left(
    \begin {aligned}
         r-1+k \\
         r-1                 
    \end{aligned}
\right) p^{r-1} * q^{k}\]</span></p>
<p>Now, we have probability of getting r-1 success and k failure. We will put it in our equation (1)</p>
<p><span class="math display">\[ P(k)  =  \left(
    \begin {aligned}
         r-1+k \\
         r-1                 
    \end{aligned}
\right) p^{r-1} * q^{k} * p\]</span></p>
<p><span class="math display">\[ P(k)  = \left(
    \begin {aligned}
         r-1+k \\
         r-1                 
    \end{aligned}
\right) p^{r} * q^{k} \]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Why Negative?</strong>: In binomial distribution we model number of successes while with negative binomial we model number of failures.</p>
</div>
</div>
<p>The expectation and variance of the negative binomial (X representing number of failures before getting rth success )</p>
<p><span class="math display">\[ E[X] = \frac{r(1-p)}{p} \]</span> <span class="math display">\[ Var[X] = \frac{r(1-p)}{p^2} \]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>The Negative binomial distribution is also used to model number of trials in getting rth success (let’s present it by a random variable Y). The total number of trials in getting r success is equal to the number of failures getting the rth success + r. Therefore, the expecation value for this case would be</p>
<p><span class="math display">\[E[Y] = E[X] + r \]</span> <span class="math display">\[E[Y] = \frac{r(1-p)}{p} + r \]</span> <span class="math display">\[E[Y] = \frac{r}{p}\]</span></p>
</div>
</div>
<p>Let’s plot the negative binomial distribution. The figure <a href="#fig-neg" class="quarto-xref">Figure&nbsp;5</a> shows two cases of binomial distributions. In the first case, the value of p is .2 which means the candidate has 20% chance of getting an offer for a job application. In the second case, the candidate has 80% chance for the same (that means p = .8).</p>
<div id="6ff15de4" class="cell" data-execution_count="18">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> neg_p(p,r,k):</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    success_p <span class="op">=</span> <span class="bu">pow</span>(p,r)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    failure_p <span class="op">=</span> <span class="bu">pow</span>((<span class="dv">1</span><span class="op">-</span>p),k)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    number_of_ways <span class="op">=</span> math.factorial(r<span class="op">-</span><span class="dv">1</span><span class="op">+</span>k)<span class="op">/</span>(math.factorial(r<span class="op">-</span><span class="dv">1</span>)<span class="op">*</span>math.factorial(k))</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> number_of_ways <span class="op">*</span> success_p <span class="op">*</span> failure_p</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_neg(n_k,p,r):</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    x_data <span class="op">=</span> []</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    y_data <span class="op">=</span> []</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>,n_k):</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>        x_data.append(i)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>        y_data.append(neg_p(p,r,i))</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    plt.bar(x_data,y_data,width<span class="op">=</span><span class="fl">.5</span>)</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">#plt.title(f'n={n} p={p}')</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>plot_neg(<span class="dv">30</span>,<span class="fl">.2</span>,<span class="dv">3</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>plot_neg(<span class="dv">30</span>,<span class="fl">.8</span>,<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-neg" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-neg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-neg" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-neg-1" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-neg-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="A primer on data distribution fundamentals _files/figure-html/fig-neg-output-1.png" class="img-fluid figure-img" data-ref-parent="fig-neg">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-neg-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) p=.2
</figcaption>
</figure>
</div>
</div>
<div class="cell-output cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-neg" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-neg-2" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-neg-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="A primer on data distribution fundamentals _files/figure-html/fig-neg-output-2.png" class="img-fluid figure-img" data-ref-parent="fig-neg">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-neg-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) p=.8
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-neg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Negative binomial distribution
</figcaption>
</figure>
</div>
</section>
<section id="hypergeometric-distribution" class="level1">
<h1>Hypergeometric distribution</h1>
<p>This distribution is <strong>different from all the aforementioned ones on the condition that p remains constant</strong>. In the previous distribution, our p (probability of success) remains constant across different trials. However, <strong>in hypergeometric this is not the case</strong>. To illustrate let’s take an example.</p>
<p>An organization wants to form a group to make a committee of 4 people (2 male, 2 female) out of 10 people (4 male, 6 female). In this example, with every selection the population changes. For example, the first section of a male employee would change the population from 10 (4 male, 6 female) to 9 (3 male, 6 female). This population change also affects the probability as well. The hypergeometric distribution is used to model such situations where sampling is done <strong>without replacement</strong>.</p>
<p>In this example, <strong>total number of population is N=10</strong>. There are <strong>K=4 male and N-K=6 female</strong>. In the sample, we need to select <strong>n=4 people, k=2 male and n-k= 2 female</strong>.</p>
<p><span class="math display">\[  \frac{\left(
        \begin {aligned}
             K \\
             k                 
        \end{aligned}
    \right) * \left(
        \begin {aligned}
             N-K \\
             n-k                 
        \end{aligned}
    \right)}{\left(
        \begin {aligned}
             N \\
             n                 
        \end{aligned}
    \right)} \]</span></p>
<p>The hypergeometric distribution is characterised by (n,k, K, N) where</p>
<p>n : sample size or number of trials</p>
<p>k : number of success in sample or in n trials</p>
<p>K : number of success in population</p>
<p>N : population size</p>
<div id="5858829b" class="cell" data-execution_count="34">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> hyp_p(n,k,K,N):</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">    N: Total number of events</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">    K: Number of success in population</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co">    k: Number of success in sample</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">    n: Sample size/ number of trials</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    selection_K_k <span class="op">=</span> math.factorial(K)<span class="op">/</span>(math.factorial(k)<span class="op">*</span>math.factorial(K<span class="op">-</span>k))</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    selection_N_minus_K <span class="op">=</span> math.factorial(N<span class="op">-</span>K)<span class="op">/</span>(math.factorial(n<span class="op">-</span>k) <span class="op">*</span> math.factorial(N<span class="op">-</span>K<span class="op">-</span>n<span class="op">+</span>k))</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    selection_N_n <span class="op">=</span> math.factorial(N)<span class="op">/</span>(math.factorial(n) <span class="op">*</span> math.factorial(N<span class="op">-</span>n))</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (selection_K_k <span class="op">*</span> selection_N_minus_K)<span class="op">/</span>selection_N_n</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_hyp(n,K,N):</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>    x_data <span class="op">=</span> []</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    y_data <span class="op">=</span> []</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>,n):</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>        x_data.append(i)</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>        y_data.append(hyp_p(n,i,K,N))</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    plt.bar(x_data,y_data,width<span class="op">=</span><span class="fl">.5</span>)</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">#plt.title(f'n={n} p={p}')</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>plot_hyp(<span class="dv">30</span>,<span class="dv">50</span>,<span class="dv">100</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>plot_hyp(<span class="dv">30</span>,<span class="dv">35</span>,<span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-hyp" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hyp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-hyp" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-hyp-1" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-hyp-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="A primer on data distribution fundamentals _files/figure-html/fig-hyp-output-1.png" class="img-fluid figure-img" data-ref-parent="fig-hyp">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-hyp-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) 30,50,100
</figcaption>
</figure>
</div>
</div>
<div class="cell-output cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-hyp" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-hyp-2" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-hyp-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="A primer on data distribution fundamentals _files/figure-html/fig-hyp-output-2.png" class="img-fluid figure-img" data-ref-parent="fig-hyp">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-hyp-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) 30,35,100
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hyp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Hypergeometric distribution
</figcaption>
</figure>
</div>
</section>
<section id="poisson-distribution" class="level1">
<h1>Poisson distribution</h1>
<p>Let’s now change our stance from employee to employer. An employer has an open job position and started receiving job applications. Every day the employer gets a particular number of applications and to process those applications the employer needs to make some arrangements.</p>
<p>To arrange for an upcoming week, the employer is interested in knowing the number of expected job applications in the next week. This is where <strong>Poisson distribution</strong> comes into the picture.</p>
<p>The Poisson distribution is used to <strong>model the number of occurrences in a particular period or a space unit</strong>. This distribution is characterized by <span class="math inline">\(\lambda\)</span> which is an average number of events. The probability of k occurrences of events for given <span class="math inline">\(\lambda\)</span> is the following</p>
<p><span class="math display">\[ P(k) =  \frac{\lambda^k * e^{-\lambda}}{k!}\]</span></p>
<p>Using the above formula, we can compute the probability of getting k=10 job applications in the next week if the company is receiving an average of 7 job applications every week.</p>
<p><span class="math display">\[ P(X=10) =  \frac{7^10 * e^{-7}}{10!}\]</span></p>
<p><span class="math display">\[ P(X=10)= .07 \]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>The expected value and variance of the Poisson distribution both are <span class="math inline">\(\lambda\)</span>.</p>
</div>
</div>
<p>Figure <a href="#fig-poi" class="quarto-xref">Figure&nbsp;7</a> shows two poisson distribution plots with different values of <span class="math inline">\(\lambda\)</span>, i.e., .5, 3.</p>
<div id="d552d536" class="cell" data-execution_count="40">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> poi_p(k,l):</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">    k: number of occurences</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">    l: average number of occurences</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (<span class="bu">pow</span>(l,k)<span class="op">*</span>math.exp(<span class="op">-</span>l))<span class="op">/</span>math.factorial(k)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_poi(n,l):</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    x_data <span class="op">=</span> []</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    y_data <span class="op">=</span> []</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>,n):</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>        x_data.append(i)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>        y_data.append(poi_p(i,l))</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    plt.bar(x_data,y_data,width<span class="op">=</span><span class="fl">.5</span>)</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">#plt.title(f'n={n} p={p}')</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>plot_poi(<span class="dv">12</span>,<span class="fl">.5</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>plot_poi(<span class="dv">12</span>,<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-poi" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-poi-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-poi" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-poi-1" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-poi-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="A primer on data distribution fundamentals _files/figure-html/fig-poi-output-1.png" class="img-fluid figure-img" data-ref-parent="fig-poi">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-poi-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) lambda=.5
</figcaption>
</figure>
</div>
</div>
<div class="cell-output cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-poi" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-poi-2" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-poi-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="A primer on data distribution fundamentals _files/figure-html/fig-poi-output-2.png" class="img-fluid figure-img" data-ref-parent="fig-poi">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-poi-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) lambda=3
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-poi-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Poisson distribution
</figcaption>
</figure>
</div>
</section>
<section id="references" class="level1">
<h1>References</h1>
<ol type="1">
<li>https://www3.nd.edu/~rwilliam/stats1/x13.pdf</li>
</ol>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>